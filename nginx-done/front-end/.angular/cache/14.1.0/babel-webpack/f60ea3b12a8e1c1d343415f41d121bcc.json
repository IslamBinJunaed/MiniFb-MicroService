{"ast":null,"code":"import _asyncToGenerator from \"/home/iit/minifb-microservices/front-end/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nexport class StoryService {\n  constructor() {}\n\n  fetchStory() {\n    return _asyncToGenerator(function* () {\n      const respose = yield fetch('http://localhost:5003/story', {\n        method: 'GET',\n        credentials: 'include'\n      });\n      return yield respose.json();\n    })();\n  }\n\n  uploadFile(event) {\n    return _asyncToGenerator(function* () {\n      const formData = new FormData(); // @ts-ignore\n\n      formData.append('story', event.target.files[0]);\n      fetch('http://localhost:5003/story', {\n        method: 'POST',\n        credentials: 'include',\n        body: formData\n      }).then(_ => alert('Image Uploaded'));\n    })();\n  }\n\n}\n\nStoryService.ɵfac = function StoryService_Factory(t) {\n  return new (t || StoryService)();\n};\n\nStoryService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: StoryService,\n  factory: StoryService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":";;AAKA,OAAM,MAAOA,YAAP,CAAmB;EACvBC,eAAgB;;EAEHC,UAAU;IAAA;MACrB,MAAMC,OAAO,SAASC,KAAK,CAAC,6BAAD,EAAgC;QACzDC,MAAM,EAAE,KADiD;QAEzDC,WAAW,EAAE;MAF4C,CAAhC,CAA3B;MAIA,aAAaH,OAAO,CAACI,IAAR,EAAb;IALqB;EAMtB;;EAEYC,UAAU,CAACC,KAAD,EAAa;IAAA;MAClC,MAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB,CADkC,CAElC;;MACAD,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyBH,KAAK,CAACI,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAzB;MAEAV,KAAK,CAAC,6BAAD,EAAgC;QACnCC,MAAM,EAAE,MAD2B;QAEnCC,WAAW,EAAE,SAFsB;QAGnCS,IAAI,EAAEL;MAH6B,CAAhC,CAAL,CAIGM,IAJH,CAISC,CAAD,IAAOC,KAAK,CAAC,gBAAD,CAJpB;IALkC;EAUnC;;AArBsB;;;mBAAZlB;AAAY;;;SAAZA;EAAYmB,SAAZnB,YAAY;EAAAoB,YAFX","names":["StoryService","constructor","fetchStory","respose","fetch","method","credentials","json","uploadFile","event","formData","FormData","append","target","files","body","then","_","alert","factory","providedIn"],"sourceRoot":"","sources":["/home/iit/minifb-microservices/front-end/src/app/services/story.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class StoryService {\n  constructor() {}\n\n  public async fetchStory() {\n    const respose = await fetch('http://localhost:5003/story', {\n      method: 'GET',\n      credentials: 'include',\n    });\n    return await respose.json();\n  }\n\n  public async uploadFile(event: Event) {\n    const formData = new FormData();\n    // @ts-ignore\n    formData.append('story', event.target.files[0]);\n\n    fetch('http://localhost:5003/story', {\n      method: 'POST',\n      credentials: 'include',\n      body: formData,\n    }).then((_) => alert('Image Uploaded'));\n  }\n}\n"]},"metadata":{},"sourceType":"module"}