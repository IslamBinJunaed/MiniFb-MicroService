{"ast":null,"code":"import _asyncToGenerator from \"/home/iit/Downloads/minifb/front-end/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/status.service\";\nimport * as i2 from \"../services/story.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\n\nfunction HomeComponent_img_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 9);\n  }\n\n  if (rf & 2) {\n    const imageName_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"src\", \"http://localhost:9000/story/\" + imageName_r2, i0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction HomeComponent_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"div\", 11);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const status_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(status_r3.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(status_r3.content);\n  }\n}\n\nconst _c0 = function () {\n  return {\n    standalone: true\n  };\n};\n\nexport class HomeComponent {\n  constructor(statusService, storyService) {\n    this.statusService = statusService;\n    this.storyService = storyService;\n    this.content = '';\n    this.statusList = [];\n    this.storySourceList = [];\n  }\n\n  handlePostSubmission() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this.statusService.postStatus({\n        content: _this.content\n      });\n      _this.content = '';\n    })();\n  }\n\n  handleFileUpload(event) {\n    this.storyService.uploadFile(event);\n  }\n\n  ngOnInit() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      _this2.statusList = yield _this2.statusService.fetchStatus();\n      _this2.storySourceList = yield _this2.storyService.fetchStory();\n    })();\n  }\n\n}\n\nHomeComponent.ɵfac = function HomeComponent_Factory(t) {\n  return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.StatusService), i0.ɵɵdirectiveInject(i2.StoryService));\n};\n\nHomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HomeComponent,\n  selectors: [[\"app-home\"]],\n  decls: 18,\n  vars: 5,\n  consts: [[1, \"title\"], [1, \"story-body\"], [\"class\", \"rounded mx-2 d-block\", 3, \"src\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"file\", \"name\", \"story\", 3, \"change\"], [1, \"form-outline\"], [\"for\", \"textAreaExample\", 1, \"form-label\"], [\"id\", \"textAreaExample1\", \"rows\", \"3\", 1, \"form-control\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [1, \"btn\", \"btn-primary\", 2, \"margin-top\", \"10px\", 3, \"click\"], [\"class\", \"shadow p-3 mb-5 bg-white rounded status-body\", 4, \"ngFor\", \"ngForOf\"], [1, \"rounded\", \"mx-2\", \"d-block\", 3, \"src\"], [1, \"shadow\", \"p-3\", \"mb-5\", \"bg-white\", \"rounded\", \"status-body\"], [1, \"status-head\"]],\n  template: function HomeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\")(1, \"div\", 0);\n      i0.ɵɵtext(2, \"All Stories\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 1);\n      i0.ɵɵtemplate(4, HomeComponent_img_4_Template, 1, 1, \"img\", 2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"div\", 0);\n      i0.ɵɵtext(6, \"Upload Story\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"input\", 3);\n      i0.ɵɵlistener(\"change\", function HomeComponent_Template_input_change_7_listener($event) {\n        return ctx.handleFileUpload($event);\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(8, \"div\", 4)(9, \"label\", 5)(10, \"div\", 0);\n      i0.ɵɵtext(11, \"Post Status\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(12, \"textarea\", 6);\n      i0.ɵɵlistener(\"ngModelChange\", function HomeComponent_Template_textarea_ngModelChange_12_listener($event) {\n        return ctx.content = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"button\", 7);\n      i0.ɵɵlistener(\"click\", function HomeComponent_Template_button_click_13_listener() {\n        return ctx.handlePostSubmission();\n      });\n      i0.ɵɵtext(14, \" Post \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(15, \"div\", 0);\n      i0.ɵɵtext(16, \"All Status\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(17, HomeComponent_div_17_Template, 5, 2, \"div\", 8);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngForOf\", ctx.storySourceList);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.content)(\"ngModelOptions\", i0.ɵɵpureFunction0(4, _c0));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngForOf\", ctx.statusList);\n    }\n  },\n  dependencies: [i3.NgForOf, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel],\n  styles: [\".title[_ngcontent-%COMP%] {\\n    font-size: 22px;\\n    font-weight: bold;\\n    margin-top: 40px;\\n    margin-bottom: 10px;\\n}\\n\\n.status-body[_ngcontent-%COMP%] {\\n    border: 1px solid gray;\\n    font-size: 18px;\\n}\\n\\n.status-head[_ngcontent-%COMP%] {\\n    font-size: 15px;\\n    color: gray;\\n    margin-bottom: 2px;\\n}\\n\\n.story-body[_ngcontent-%COMP%] {\\n    overflow-x: scroll;\\n    height: 18vh;\\n    display: flex;\\n    flex-direction: row;\\n    justify-content: space-evenly;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhvbWUuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGVBQWU7SUFDZixpQkFBaUI7SUFDakIsZ0JBQWdCO0lBQ2hCLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLHNCQUFzQjtJQUN0QixlQUFlO0FBQ25COztBQUdBO0lBQ0ksZUFBZTtJQUNmLFdBQVc7SUFDWCxrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsWUFBWTtJQUNaLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsNkJBQTZCO0FBQ2pDIiwiZmlsZSI6ImhvbWUuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi50aXRsZSB7XG4gICAgZm9udC1zaXplOiAyMnB4O1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIG1hcmdpbi10b3A6IDQwcHg7XG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbn1cblxuLnN0YXR1cy1ib2R5IHtcbiAgICBib3JkZXI6IDFweCBzb2xpZCBncmF5O1xuICAgIGZvbnQtc2l6ZTogMThweDtcbn1cblxuXG4uc3RhdHVzLWhlYWQge1xuICAgIGZvbnQtc2l6ZTogMTVweDtcbiAgICBjb2xvcjogZ3JheTtcbiAgICBtYXJnaW4tYm90dG9tOiAycHg7XG59XG5cbi5zdG9yeS1ib2R5IHtcbiAgICBvdmVyZmxvdy14OiBzY3JvbGw7XG4gICAgaGVpZ2h0OiAxOHZoO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWV2ZW5seTtcbn1cbiJdfQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;IAIIA;;;;;IAGEA;;;;;;IA+BNA,gCAGC,CAHD,EAGC,KAHD,EAGC,EAHD;IAI2BA;IAAkBA;IAC3CA;IAAKA;IAAoBA;;;;;IADAA;IAAAA;IACpBA;IAAAA;;;;;;;;;;AC7BP,OAAM,MAAOC,aAAP,CAAoB;EAKxBC,YACUC,aADV,EAEUC,YAFV,EAEoC;IAD1B;IACA;IANH,eAAkB,EAAlB;IACA,kBAA4B,EAA5B;IACA,uBAAiC,EAAjC;EAKH;;EAESC,oBAAoB;IAAA;;IAAA;MAC/B,MAAM,KAAI,CAACF,aAAL,CAAmBG,UAAnB,CAA8B;QAAEC,OAAO,EAAE,KAAI,CAACA;MAAhB,CAA9B,CAAN;MACA,KAAI,CAACA,OAAL,GAAe,EAAf;IAF+B;EAGhC;;EAEMC,gBAAgB,CAACC,KAAD,EAAa;IAClC,KAAKL,YAAL,CAAkBM,UAAlB,CAA6BD,KAA7B;EACD;;EAEKE,QAAQ;IAAA;;IAAA;MACZ,MAAI,CAACC,UAAL,SAAwB,MAAI,CAACT,aAAL,CAAmBU,WAAnB,EAAxB;MACA,MAAI,CAACC,eAAL,SAA6B,MAAI,CAACV,YAAL,CAAkBW,UAAlB,EAA7B;IAFY;EAGb;;AAtBuB;;;mBAAbd,eAAaD;AAAA;;;QAAbC;EAAae;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDb1BpB,4BAAK,CAAL,EAAK,KAAL,EAAK,CAAL;MACqBA;MAAWA;MAC9BA;MACEA;MAKFA;MACAA;MAAmBA;MAAYA;MAE/BA;MAAgCA;QAAA,OAAUqB,4BAAV;MAAkC,CAAlC;MAAhCrB;MAIFA,+BAA0B,CAA1B,EAA0B,OAA1B,EAA0B,CAA1B,EAA0B,EAA1B,EAA0B,KAA1B,EAA0B,CAA1B;MAEuBA;MAAWA;MAEhCA;MAIEA;QAAA;MAAA;MAEDA;MACDA;MAEEA;QAAA,OAASqB,0BAAT;MAA+B,CAA/B;MAGArB;MACFA;MAGFA;MAAmBA;MAAUA;MAE7BA;;;;MAhC4BA;MAAAA;MAkBxBA;MAAAA,sCAAqB,gBAArB,EAAqBA,0BAArB;MAgBiBA;MAAAA","names":["i0","HomeComponent","constructor","statusService","storyService","handlePostSubmission","postStatus","content","handleFileUpload","event","uploadFile","ngOnInit","statusList","fetchStatus","storySourceList","fetchStory","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/home/iit/Downloads/minifb/front-end/src/app/home/home.component.html","/home/iit/Downloads/minifb/front-end/src/app/home/home.component.ts"],"sourcesContent":["<!-- STORY SECTION -->\n<div>\n  <div class=\"title\">All Stories</div>\n  <div class=\"story-body\">\n    <img\n      class=\"rounded mx-2 d-block\"\n      *ngFor=\"let imageName of storySourceList\"\n      [src]=\"'http://localhost:9000/story/' + imageName\"\n    />\n  </div>\n  <div class=\"title\">Upload Story</div>\n\n  <input type=\"file\" name=\"story\" (change)=\"handleFileUpload($event)\" />\n</div>\n\n<!-- STATUS SECTION -->\n<div class=\"form-outline\">\n  <label class=\"form-label\" for=\"textAreaExample\">\n    <div class=\"title\">Post Status</div>\n  </label>\n  <textarea\n    class=\"form-control\"\n    id=\"textAreaExample1\"\n    rows=\"3\"\n    [(ngModel)]=\"content\"\n    [ngModelOptions]=\"{ standalone: true }\"\n  ></textarea>\n  <button\n    class=\"btn btn-primary\"\n    (click)=\"handlePostSubmission()\"\n    style=\"margin-top: 10px\"\n  >\n    Post\n  </button>\n</div>\n\n<div class=\"title\">All Status</div>\n\n<div\n  class=\"shadow p-3 mb-5 bg-white rounded status-body\"\n  *ngFor=\"let status of statusList\"\n>\n  <div class=\"status-head\">{{ status.email }}</div>\n  <div>{{ status.content }}</div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { StatusService } from '../services/status.service';\nimport { StoryService } from '../services/story.service';\n\ninterface Status {\n  email: string;\n  content: string;\n}\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css'],\n})\nexport class HomeComponent implements OnInit {\n  public content: string = '';\n  public statusList: Array<Status> = [];\n  public storySourceList: Array<string> = [];\n\n  constructor(\n    private statusService: StatusService,\n    private storyService: StoryService\n  ) {}\n\n  public async handlePostSubmission() {\n    await this.statusService.postStatus({ content: this.content });\n    this.content = '';\n  }\n\n  public handleFileUpload(event: Event) {\n    this.storyService.uploadFile(event);\n  }\n\n  async ngOnInit() {\n    this.statusList = await this.statusService.fetchStatus();\n    this.storySourceList = await this.storyService.fetchStory();\n  }\n}\n"]},"metadata":{},"sourceType":"module"}